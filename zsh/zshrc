DOTFILES_DIR=$HOME/.dotfiles
DEFAULT_USER=josh

export CLICOLOR=1
export EDITOR=vim
export KEYTIMEOUT=1
# Trying out the defauly LSCOLORS, gonna drop this soon
#export LSCOLORS=Exfxcxdxbxegedabagacad
export TERM="xterm-256color"

bindkey -v

# ZSH=$HOME/.oh-my-zsh
#
# ZSH_THEME="joshtronic"
#
# COMPLETION_WAITING_DOTS="true"
#
# plugins=(brew common-aliases composer git-extras git gitfast gitignore jsontools meteor node npm nvm osx redis-cli rsync systemadmin vundle web-search xcode z zsh_reload)
# 
# source $ZSH/oh-my-zsh.sh

# PHP_FULL_VERSION=`php --version | head -n 1 | awk '{print $2}'`
# PHP_MAJOR_MINOR=`echo $PHP_FULL_VERSION | awk -F '.' '{print $1$2}'`
# PHP_BASE_PATH=/usr/local/Cellar/php$PHP_MAJOR_MINOR/$PHP_FULL_VERSION
# 
# export PATH=/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin:/bin:/sbin:$PHP_BASE_PATH/lib/php:~/Source/dotfiles/scripts:~/Source/dotfiles/git/scripts:$PHP_BASE_PATH/bin:/opt/X11/bin:$PHP_BASE_PATH/lib/php/File

source $DOTFILES_DIR/.antigen/antigen.zsh

antigen-use oh-my-zsh
antigen-bundle git

if [[ $OSTYPE == "darwin*" ]]; then
  antigen-bundle osx

  # Unquarantine files on OSX
  alias unquarantine="xattr -r -d com.apple.quarantine *"

  # Generates aliases like HEAD, probably should work into a plugin
  for method in GET HEAD POST PUT DELETE TRACE OPTIONS; do
    alias "$method"="lwp-request -m '$method'"
  done
fi

antigen-bundle zsh-users/zsh-completions
# antigen-bundle zsh-users/zsh-history-substring-search
antigen-bundle zsh-users/zsh-syntax-highlighting

antigen-theme $DOTFILES_DIR/zsh joshtronic-2015
antigen-apply

# Git aliases
alias gdb="git delete-branch"
alias gmm="git merge master"
alias gmv="git mv"
alias grm="git rm"

# Generate a UUID
alias uuid="node -e \"var uuid = require('node-uuid'); console.log(uuid.v4())\""

# Vim aliases
alias v="vim"
alias vd="vimdiff"

# Dunno about these...
# alias gh-pages="bundle exec jekyll serve"
# alias mtr="sudo mtr"

# This is kinda fucked, I outta rework into a separate grep alias to skip stuff
export GREP_OPTIONS="--color=auto --exclude-dir=.git --exclude-dir=artwork --exclude-dir=node_modules --exclude-dir=.sass-cache"

# I dunno about all of this either
export PATH=/usr/local/bin:/usr/local/sbin:./node_modules/bower/bin:./node_modules/grunt-cli/bin:$PATH

# source $(brew --prefix nvm)/nvm.sh

# May not need this now, moved it to mux
export NODE_ENV=development

# source /usr/local/lib/python2.7/site-packages/powerline/bindings/zsh/powerline.zsh

# [ -z "$TMUX" ] && export TERM=xterm-256color && exec tmux

# This is only for the server, maybe add it to the above OS conditional
# export PATH="$PATH:$HOME/.rvm/bin" # Add RVM to PATH for scripting
